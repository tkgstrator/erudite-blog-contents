---
title: Vite+ReactをCloudflare Workersにデプロイする 
date: 2025-11-07
description: デプロイするときの注意点についてまとめ
tags: [Vite, React, Cloudflare Workers]
authors: ['tkgstrator']
---

## 背景

最近、モノレポでサービスを作るのにハマっています。モノレポだとZodのスキーマをそのまま再利用できたりして便利です。

プロジェクトを作るのに手こずりましたが、慣れると結構楽しいです。デプロイも一括でできますし。

### 課題

基本的に、プロジェクトをリリースする際には、

- 開発環境
- ステージング環境
- 本番環境

という三段階を踏むと思います。この場合でいう開発環境はローカルのことで、ステージング環境から実際にウェブ上で確かめられるようなイメージです。

通常、ステージング環境はアクセス制限をしたりすると思うのですが、現状めんどくさいのでしていません。大事なデータも別にないですし。ただし、sourcemapは本番環境にしかデプロイしないような仕組みは必要かもしれません。

で、静的サイトをビルドした際にはデプロイ先としてGitHub PagesやFirebase HostingやVercelやCloudflare Pagesなどがあるのですが、個人的にはVercelとCloudfalre Workersを推したいと思っています。

### ホスティングサービス

#### Vercel

言わずとしれたNext.jsに公式対応しているサービスです。

Next.jsで作ったウェブサイトをリリースするならここ一択だと思います。ちょっと調べた感じですとウェブサイトの表示速度はCloudflare PagesやWorkersには劣るようです。

またWeb AnalyticsやSpeed Insightsが使えるのがHobbyプランだと一つのプロジェクトに制限される、という仕様もあります。これの制限がなければNext.jsを使って全部Vercelにデプロイしても良かったのですが......

#### Cloudflare Pages

Cloudflareが運営するホスティングサービスでめちゃくちゃ速いですが、ただホスティングするだけなのでSSGかCSRしか動きません。

どちらも、何らかのコードを実行するのにブラウザを経由する必要がある以上、CORSに引っかかることが多いです。その対策のためにプロクシを立てたりすると非常にめんどくさいです。

#### Cloudfalre Workers

VercelとCloudflare Pagesの両方の問題を解決するのがコレです。