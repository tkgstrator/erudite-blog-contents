---
title: LanPlay
date: 2024-08-12
description: スプラトゥーン3でLanPlayを遊ぶ方法について
tags: [Nintendo, Splatoon]
authors: ['tkgstrator']
---

## Switch Lan Play

Switch Lan Play(通称、LanPlay)とはひどく大雑把に言うと離れたプレイヤー間でスプラトゥーン2, 3におけるイカッチャで通信を可能にするためのツールです。

実際にはスプラトゥーン以外にもマリオカートだったりができるのですが、今回はスプラトゥーン3についてのみ解説します。

### LanPlayでできること

LanPlayでできることは「イカッチャをインターネットを経由して遊べる」のただ一点です。

このとき`--fake-internet`という設定を有効化することでニンテンドーネットワークを経由せずに遊ぶことができます。

ニンテンドーネットワークを経由しないことのメリットは、

1. ソフトBANおよび本体BANされていても遊べる
  - 当たり前ですが通常のオンラインプレイはできません
2. フレンドコード交換などが不要
3. ニンテンドーネットワークの契約が不要

ということです。

## 必要なもの

- Windowsが動作するPC
  - macOSやUbuntu等でも動作しますが推奨しません
- Nintendo Switch
  - 新型でも旧型でもOK
- スプラトゥーン3
  - ダウンロード版でもカートリッジ版でもOK

## パソコン

LanPlayをするためにはパソコンとニンテンドースイッチの二つで設定を変更する必要があります。

まずはPC向けの設定を解説します。

### WinPcap

[WinPcap](https://www.winpcap.org/install/)のページにとんで**Version 4.1.3 Installer for Windows**からWindows向けのインストーラーをダウンロードします。

ダウンロードができたらインストールします。

途中で**Automatically start the WinPcap driver at boot time(起動時にWinPcapを有効化するか)**をきかれるのでチェックを入れましょう。

インストールできたら終わりです。

### C++再頒布可能パッケージ

[サポートされている最新の Visual C++ 再頒布可能パッケージのダウンロード](https://learn.microsoft.com/ja-jp/cpp/windows/latest-supported-vc-redist?view=msvc-170)からアーキテクチャに合致するインストーラをダウンロードします。

ほとんど全ての人はX64だと思うのでX64向けのリンクからダウンロードしてください。

ダウンロードできたらインストールします。

インストールできたら終わりです。

ここまでの二つのソフトのインストールは一回だけすれば十分です。

### LanPlay実行ファイル

[LanPlay.zip](https://cdn.discordapp.com/attachments/720612694667034646/1123905523734032394/lanplay.zip?ex=66bb2516&is=66b9d396&hm=6e648f165e25313c1d1b35593f907e9a4d794e8e317e5c168a28d9a672071368)

ダウンロードしたら右クリック等で解凍します。

```zsh
lanplay/
├── lanplay-x64.exe
├── lanplay-x86.exe
└── lanplay.bat
```

するとこんな感じで三つのファイルが入っていると思うので`x86`も`x64`もついていない`lanplay.bat`をダブルクリックして起動します。

「WindowsによってPCが保護されました」と表示された場合は「詳細情報」を押して「実行」をクリックしてください。

> [参考ドキュメント](https://www.fmworld.net/cs/azbyclub/qanavi/jsp/qacontents.jsp?PID=0209-8188)

起動したら真っ黒い画面の最後の方に

```zsh
Server IP: 172.105.192.128
```

と表示されていたら通信成功です。

[このページ](http://lanplay.splatnet3.com:11451/info)で接続しているユーザーの数がわかるので、ここの人数が増えていたらちゃんと繋がっています。

この黒い画面を閉じてしまうと通信が切れてしまうので、黒い画面は閉じず、またパソコンがスリープモードにならないようにしてください（スリープモードになると通信が切れてしまいます

> この`lanplay.bat`の立ち上げは、LanPlayを遊びたいときに毎回実行する必要があります。

## ニンテンドースイッチ

ニンテンドースイッチではインターネット設定を変更します。

**設定 > インターネット > インターネット設定**から登録されていて現在使用しているネットワークを選択します。

どれでも構わないのですが、有線接続をしている場合は有線接続の設定を利用するようにしてください。

### 変更点

IPアドレス設定を「自動」から「手動」に変更して以下の項目を設定します。

| 項目             | 値            | 備考                              |
| :--------------: | :-----------: | :-------------------------------: |
| IPアドレス       | 10.13.XXX.YYY | XXX, YYYには0~254までの任意の数字 |
| サブネットマスク | 255.255.0.0   |                                   |
| ゲートウェイ     | 10.13.37.1    |                                   |

IPアドレスの部分は他の人と被らない値であれば何でもよいですが`10.13.37.1`(ゲートウェイと被る)だけは指定できません。

これができたらDNS設定を変更します。

| 項目    | 値              |
| :-----: | :-------------: |
| 優先DNS | 207.246.121.77  |
| 代替DNS | 163.172.141.219 |

この値を設定するとニンテンドーネットワークに一切繋がらなくなります。

ニンテンドーネットワークの利用規約上、認可を受けていない外部プログラムや装置を使うことは禁止されているので`lanplay.bat`の方で`--fake-internet`を入れている上でこの設定を入れています。

保存したうえでインターネットに接続をしてみて繋がれば成功です。

## スプラトゥーンの設定

イカッチャに行きます。これは2でも3でも共通です。

### LanPlayへの切り替え

通常、イカッチャはLocalPlayというモードになっているのでコマンドでこれをLanPlayに切り替えます。

スプラトゥーン2の場合は**L+R+左スティック押し込み**を三秒、スプラトゥーン3の場合は**ZL+ZR+左スティック押し込み**を三秒で画面が暗転します。

スプラトゥーン2の場合は暗転後に右下に表示されていたスタンプカードが消えていれば、3の場合は
